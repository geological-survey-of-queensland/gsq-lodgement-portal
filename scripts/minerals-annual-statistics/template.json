{
	"version": "1.0",
	"Last updated date": "11/03/2022",
	"Last updated by": "B Nikoloff, SRA",
	"ReportType": "http://linked.data.gov.au/def/georesource-report/minerals-annual-statistics",
	"NamingConvention": {
		"xlsxRegex": "(?i)^.+_annual-mineral-return-form_\\d{4}$",
		"xlsxLabel": "MineName_annual-mineral-return-form_[End Date Year(YYYY)]",
		"csvRegex": "(?i)^.+_annual-mineral-return-form_\\d{4}_.+$",
		"csvLabel": "MineName_annual-mineral-return-form_[End Date Year(YYYY)]_ComponentID"
	},
	"DocumentProperties": {
		"FileName": "{0}_minerals-annual-return-data_FY-{1}-submitted.xlsx",
		"DocumentTitle": "{0} MINERALS ANNUAL RETURN DATA FY {1}",
		"DocumentDescription": "Associated data submission to {0}",
		"ThemeVocabUri": "http://linked.data.gov.au/def/gsq-dataset-theme/resource-statistics",
		"EarthScienceCategoryVocabUri": "http://linked.data.gov.au/def/earth-science-data-category/mineral-resource-geology"
	},
	"MetadataMapping": {
		"RelatedMineName": "MINE_DETAILS.MINE_NAME",
		"RelatedOperatorName": "MINE_DETAILS.MINE_OPERATOR",
		"RelatedPermitComponent": "TENEMENT_STATUS",
		"RelatedPermitTypeColumn": "TENEMENT_TYPE",
		"RelatedPermitNumberColumn": "TENEMENT_NO",
		"RelatedPermitStatusColumn": "PRODUCTION_STATUS",
		"ReportEndDate": "MINE_DETAILS.PERIOD_END"
	},
	"components": [
		{
			"name": "MINE_DETAILS",
			"requiredForFileUpload": true,
			"webFormKey": "mineDetails",
			"webFormPrimary": true,
			"xlsxOffsets": {
				"columnOffset": 2,
				"rowOffset": 8
			},
			"minRows": 1,
			"maxRows": 1,
			"inputs": [
				{
					"name": "siteName",
					"label": "Mine Name",
					"columnHeader": "MINE_NAME",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Mine Name is required"
								]
							},
							{
								"name": "max",
								"params": [
									128,
									"Mine Name cannot be more than 128 characters"
								]
							}
						]
					}
				},
				{
					"name": "relatedOperatorName",
					"label": "Mine Operator",
					"columnHeader": "MINE_OPERATOR",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Mine Operator is required"
								]
							},
							{
								"name": "max",
								"params": [
									128,
									"Mine Operator cannot be more than 128 characters"
								]
							}
						]
					}
				},
				{
					"name": "endDate",
					"label": "Report Period End",
					"columnHeader": "PERIOD_END",
					"isRequired": true,
					"type": "calender",
					"validations": {
						"type": "date",
						"rules": [
							{
								"name": "required",
								"params": [
									"Report Period End is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^20\\d\\d$/",
									"Report Period End must be on the 30th June between the years 2000-2099"
								]
							}
						]
					}
				},
				{
					"name": "daysOfOperation",
					"label": "Days of Operation During Reporting Period",
					"columnHeader": "DAYS_OF_OPERATION",
					"isRequired": true,
					"type": "integer",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Days of Operation is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^(0|[1-9]\\d?|[12]\\d\\d|3[0-5]\\d|36[0-6])$/",
									"Days of Operation must be a number between 0-366"
								]
							}
						]
					}
				},
				{
					"name": "wasteRock",
					"label": "Waste Rock",
					"columnHeader": "WASTE_ROCK",
					"isRequired": true,
					"type": "integer",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Waste Rock is required, Report as 0 for underground mines"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,10}$/",
									"Waste Rock must be a number up to 10 digits in length."
								]
							}
						]
					}
				},
				{
					"name": "wasteUnits",
					"label": "Unit",
					"columnHeader": "WASTE_UNITS",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Waste Unit is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/geou/basic-resource-volumetrics> skos:member ?id . ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Waste Unit is not valid. Please refer to vocab for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				}
			]
		},
		{
			"name": "TENEMENT_STATUS",
			"requiredForFileUpload": true,
			"webFormPreloadIgnore": true,
			"webFormKey": "permit",
			"xlsxOffsets": {
				"columnOffset": 2,
				"rowOffset": 8
			},
			"minRows": 1,
			"inputs": [
				{
					"name": "permitType",
					"label": "TENEMENT_TYPE",
					"columnHeader": "TENEMENT_TYPE",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Tenement Type (ML) is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText WHERE {{ ?id a skos:Concept ; skos:notation ?displayText ; skos:inScheme <http://linked.data.gov.au/def/qld-resource-permit> }} ORDER BY LCASE(?displayText)",
									"Tenement Type is not valid. Refer to vocab Queensland Resource Permit."
								]
							}
						]
					}
				},
				{
					"name": "permitNumber",
					"label": "Tenement Number",
					"columnHeader": "TENEMENT_NO",
					"isRequired": true,
					"type": "integer",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Tenement Number is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^[1-9]\\d{0,7}$/",
									"Tenement Number must be a postive, whole number between 1-99999999."
								]
							}
						]
					}
				},
				{
					"name": "permitStatus",
					"label": "Production Status",
					"columnHeader": "PRODUCTION_STATUS",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Production Status is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText WHERE { <http://linked.data.gov.au/def/site-status/minprodstat> skos:member ?id . ?id skos:prefLabel ?displayText . } ORDER BY LCASE(?displayText)",
									"Production Status is not valid. Refer to vocab for Site Status."
								]
							}
						]
					}
				}
			]
		},
		{
			"name": "RAW_MATERIAL_MINED",
			"webFormKey": "rawMaterialMined",
			"titleforReview": "Raw Material Mined",
			"xlsxOffsets": {
				"columnOffset": 2,
				"rowOffset": 8
			},
			"minRows": 1,
			"inputs": [
				{
					"name": "materialNumber",
					"label": "Material Number",
					"columnHeader": "MATERIAL_NUMBER",
					"isRequired": true,
					"type": "integer",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Material Number is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,4}$/",
									"Material Number must be a number up to 4 digits in length."
								]
							},
							{
								"name": "grouping",
								"isComplex": true,
								"params": [
									"MATERIAL_MINED,GROSS_OUTPUT,OUTPUT_UNITS",
									"Invalid grouping for Material Number {0}. For a Material Number, the following fields must be the same for all rows in that group: MATERIAL_MINED,GROSS_OUTPUT,OUTPUT_UNITS"
								]
							}
						]
					}
				},
				{
					"name": "materialMined",
					"label": "Material Mined",
					"columnHeader": "MATERIAL_MINED",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Material Mined is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText (CONCAT('material-',(REPLACE(STRAFTER(?str_id, 'http://linked.data.gov.au/def/sample-material/'), '-', ''))) as ?filterByChildCollection) WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) } <http://linked.data.gov.au/def/sample-material/min-raw-materials> skos:member ?id .?id ?pred ?displayText BIND (STR(?id) AS ?str_id) }}ORDER BY ?sort LCASE(?displayText)",
									"Material Mined is not valid. Please refer to vocab Sample Material (Mineral Mining Raw Materials)"
								]
							}
						]
					}
				},
				{
					"name": "grossOutput",
					"label": "Gross Output",
					"columnHeader": "GROSS_OUTPUT",
					"isRequired": true,
					"type": "float",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Gross Output is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,10}(\\.\\d+)?$/",
									"Gross Output must be a decimal, with no more than 10 digits before the decimal point e.g. 1234567890.1234"
								]
							}
						]
					}
				},
				{
					"name": "outputUnits",
					"label": "Unit",
					"columnHeader": "OUTPUT_UNITS",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Output Unit is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/geou/expanded-resource-volumetrics> skos:member ?id . ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Output Unit is not valid. Please refer to vocab for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				},
				{
					"name": "containedCommodity",
					"label": "Contained Commodity",
					"columnHeader": "CONTAINED_COMMODITY",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Contained Commodity is required"
								]
							},
							{
								"name": "dependentVocab",
								"isComplex": true,
								"params": [
									"MATERIAL_MINED",
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText (CONCAT('material-',(REPLACE(STRAFTER(?str_id, 'http://linked.data.gov.au/def/sample-material/'), '-', ''))) as ?filterByChildCollection) WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) } <http://linked.data.gov.au/def/sample-material/min-raw-materials> skos:member ?id . ?id ?pred ?displayText BIND (STR(?id) AS ?str_id) }} ORDER BY ?sort LCASE(?displayText)",
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText ?sort (group_concat(DISTINCT STRAFTER(?str_collId, 'http://linked.data.gov.au/def/geo-commodities/'); separator = ',') as ?filterText) WHERE {{ VALUES (?sort ?pred) { ('1' skos:prefLabel) ('2' skos:altLabel) ('2' skos:notation) ('2' skos:hiddenLabel) } ?id a skos:Concept ; ?pred ?displayText ; skos:inScheme <http://linked.data.gov.au/def/geo-commodities> . ?collId skos:member ?id BIND (STR(?collId) AS ?str_collId)}} GROUP BY ?id ?displayText ?sort ORDER BY ?sort LCASE(?displayText) ?pred",
									"Contained Commodity is not valid for the selected Material Mined"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText ?sort (group_concat(DISTINCT STRAFTER(?str_collId, 'http://linked.data.gov.au/def/geo-commodities/'); separator = ',') as ?filterText) WHERE {{ VALUES (?sort ?pred) { ('1' skos:prefLabel) ('2' skos:altLabel) ('2' skos:notation) ('2' skos:hiddenLabel) } ?id a skos:Concept ; ?pred ?displayText ; skos:inScheme <http://linked.data.gov.au/def/geo-commodities> . ?collId skos:member ?id BIND (STR(?collId) AS ?str_collId)}} GROUP BY ?id ?displayText ?sort ORDER BY ?sort LCASE(?displayText) ?pred",
									"Contained Commodity is not valid. Please refer to vocab  Geoscience Commodities (Ordered Lodgement List)"
								]
							}
						]
					}
				},
				{
					"name": "grade",
					"label": "Grade",
					"columnHeader": "GRADE",
					"isRequired": true,
					"type": "float",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Grade is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,10}(\\.\\d+)?$/",
									"Grade must be a decimal, with no more than 10 digits before the decimal point e.g. 1234567890.1234"
								]
							}
						]
					}
				},
				{
					"name": "gradeUnit",
					"label": "Grade Unit",
					"columnHeader": "GRADE_UNIT",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Grade Unit is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/geou/resource-grade-quality> skos:member ?id . ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Grade Unit is not valid. Please refer to vocab (preferred label) for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				}
			]
		},
		{
			"name": "RAW_MATERIAL_TRANSFERRED",
			"webFormKey": "rawMaterialTransferred",
			"titleforReview": "Raw Material Transferred",
			"xlsxOffsets": {
				"columnOffset": 2,
				"rowOffset": 8
			},
			"minRows": 0,
			"inputs": [
				{
					"name": "materialNumber",
					"label": "Material Number",
					"columnHeader": "MATERIAL_NUMBER",
					"isRequired": true,
					"type": "integer",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Material Number is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,4}$/",
									"Material Number must be a number up to 4 digits in length."
								]
							},
							{
								"name": "grouping",
								"isComplex": true,
								"params": [
									"TRANSFER_TYPE,TRANSACTOR,TRANSFER_DATE,MATERIAL_TRANSFERRED,TRANSFER_QTY,TRANSFER_UNIT",
									"Invalid grouping for Material Number {0}. For a Material Number, the following fields must be the same for all rows in that group: TRANSFER_TYPE,TRANSACTOR,TRANSFER_DATE,MATERIAL_TRANSFERRED,TRANSFER_QTY,TRANSFER_UNIT"
								]
							}
						]
					}
				},
				{
					"name": "transferType",
					"label": "Transfer Type",
					"columnHeader": "TRANSFER_TYPE",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Transfer Type is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText WHERE {{ <http://linked.data.gov.au/def/transaction-type/min-transfer> skos:member ?id . ?id skos:prefLabel ?displayText }} ORDER BY LCASE(?displayText)",
									"Transfer Type is not valid. Please refer to vocab Transaction Type."
								]
							}
						]
					}
				},
				{
					"name": "transactor",
					"label": "Transactor",
					"columnHeader": "TRANSACTOR",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Transactor is required"
								]
							},
							{
								"name": "max",
								"params": [
									128,
									"Transactor cannot be more than 128 characters"
								]
							}
						]
					}
				},
				{
					"name": "transferDate",
					"label": "Transaction or Invoice Date",
					"columnHeader": "TRANSFER_DATE",
					"isRequired": true,
					"type": "calender",
					"validations": {
						"type": "date",
						"rules": [
							{
								"name": "required",
								"params": [
									"Transaction or Invoice Date is required"
								]
							}
						]
					}
				},
				{
					"name": "materialTransferred",
					"label": "Transferred Material",
					"columnHeader": "MATERIAL_TRANSFERRED",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Transferred Material is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText (CONCAT('material-',(REPLACE(STRAFTER(?str_id, 'http://linked.data.gov.au/def/sample-material/'), '-', ''))) as ?filterByChildCollection) WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) } <http://linked.data.gov.au/def/sample-material/min-process-inputs> skos:member ?id .?id ?pred ?displayText BIND (STR(?id) AS ?str_id) }} ORDER BY ?sort LCASE(?displayText)",
									"Material Transferred is not valid. Please refer to vocab Sample Material (Mineral Mining Raw Materials)"
								]
							}
						]
					}
				},
				{
					"name": "transferQty",
					"label": "Transfer Quantity",
					"columnHeader": "TRANSFER_QTY",
					"isRequired": true,
					"type": "float",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Transfer Quantity is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,10}(\\.\\d+)?$/",
									"Transfer Quantity must be a decimal, with no more than 10 digits before the decimal point e.g. 1234567890.1234"
								]
							}
						]
					}
				},
				{
					"name": "transferUnit",
					"label": "Transfer Unit",
					"columnHeader": "TRANSFER_UNIT",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Transfer Unit is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/geou/expanded-resource-volumetrics> skos:member ?id . ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Transfer Unit is not valid. Please refer to vocab for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				},
				{
					"name": "containedCommodity",
					"label": "Contained Commodity",
					"columnHeader": "CONTAINED_COMMODITY",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Contained Commodity is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText ?sort (group_concat(DISTINCT STRAFTER(?str_collId, 'http://linked.data.gov.au/def/geo-commodities/'); separator = ',') as ?filterText) WHERE {{ VALUES (?sort ?pred) { ('1' skos:prefLabel) ('2' skos:altLabel) ('2' skos:notation) ('2' skos:hiddenLabel) } ?id a skos:Concept ; ?pred ?displayText ; skos:inScheme <http://linked.data.gov.au/def/geo-commodities> . ?collId skos:member ?id BIND (STR(?collId) AS ?str_collId)}} GROUP BY ?id ?displayText ?sort ORDER BY ?sort LCASE(?displayText) ?pred",
									"Contained Commodity is not valid. Please refer to vocab Geoscience Commodities (Ordered Lodgement List)"
								]
							},
							{
								"name": "dependentVocab",
								"isComplex": true,
								"params": [
									"MATERIAL_TRANSFERRED",
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText (CONCAT('material-',(REPLACE(STRAFTER(?str_id, 'http://linked.data.gov.au/def/sample-material/'), '-', ''))) as ?filterByChildCollection) WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) } <http://linked.data.gov.au/def/sample-material/min-process-inputs> skos:member ?id . ?id ?pred ?displayText BIND (STR(?id) AS ?str_id) }} ORDER BY ?sort LCASE(?displayText)",
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText ?sort (group_concat(DISTINCT STRAFTER(?str_collId, 'http://linked.data.gov.au/def/geo-commodities/'); separator = ',') as ?filterText) WHERE {{ VALUES (?sort ?pred) { ('1' skos:prefLabel) ('2' skos:altLabel) ('2' skos:notation) ('2' skos:hiddenLabel) } ?id a skos:Concept ; ?pred ?displayText ; skos:inScheme <http://linked.data.gov.au/def/geo-commodities> . ?collId skos:member ?id BIND (STR(?collId) AS ?str_collId)}} GROUP BY ?id ?displayText ?sort ORDER BY ?sort LCASE(?displayText) ?pred",
									"Contained Commodity is not valid for the selected Product Form"
								]
							}
						]
					}
				},
				{
					"name": "commodityGrade",
					"label": "Grade",
					"columnHeader": "COMMODITY_GRADE",
					"isRequired": true,
					"type": "float",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Grade is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,10}(\\.\\d+)?$/",
									"Grade must be a decimal, with no more than 10 digits before the decimal point e.g. 1234567890.1234"
								]
							}
						]
					}
				},
				{
					"name": "commodityUnit",
					"label": "Grade Unit",
					"columnHeader": "COMMODITY_UNIT",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Grade Unit is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/geou/resource-grade-quality> skos:member ?id . ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Commodity Unit is not valid. Please refer to vocab for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				}
			]
		},
		{
			"name": "PRODUCTS_PROCESSED",
			"webFormKey": "productsProcessed",
			"titleforReview": "Products Processed",
			"xlsxOffsets": {
				"columnOffset": 2,
				"rowOffset": 8
			},
			"minRows": 0,
			"inputs": [
				{
					"name": "inputNumber",
					"label": "Input Number",
					"columnHeader": "INPUT_NUMBER",
					"isRequired": true,
					"type": "integer",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Input Number is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,4}$/",
									"Input Number must be a number up to 4 digits in length."
								]
							},
							{
								"name": "grouping",
								"isComplex": true,
								"params": [
									"INPUT_MATERIAL,INPUT_QTY,INPUT_UNITS,PROCESS,PROCESSOR",
									"Invalid grouping for Input Number {0}. For a Input Number, the following fields must be the same for all rows in that group: INPUT_MATERIAL,INPUT_QTY,INPUT_UNITS,PROCESS,PROCESSOR"
								]
							}
						]
					}
				},
				{
					"name": "inputMaterial",
					"label": "Input Material",
					"columnHeader": "INPUT_MATERIAL",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Input Material is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText WHERE {{  VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) } <http://linked.data.gov.au/def/sample-material/min-process-inputs> skos:member ?id .   ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Input Material is not valid. Please refer to vocab Sample Material (Mineral Mining Raw Materials)."
								]
							}
						]
					}
				},
				{
					"name": "inputQty",
					"label": "Input Quantity",
					"columnHeader": "INPUT_QTY",
					"isRequired": true,
					"type": "float",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Input Quantity is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,10}(\\.\\d+)?$/",
									"Input Quantity must be a decimal, with no more than 10 digits before the decimal point e.g. 1234567890.1234"
								]
							}
						]
					}
				},
				{
					"name": "inputUnits",
					"label": "Unit",
					"columnHeader": "INPUT_UNITS",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Input Unit is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/geou/expanded-resource-volumetrics> skos:member ?id . ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Input Unit is not valid. Please refer to vocab for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				},
				{
					"name": "process",
					"label": "Process",
					"columnHeader": "PROCESS",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Process is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText WHERE {{ <http://linked.data.gov.au/def/sample-preparation-methods/mine-processing> skos:member ?id . ?id skos:prefLabel ?displayText }} ORDER BY LCASE(?displayText)",
									"Process is not valid. Please refer to vocab Sample Preparation Methods (Mine Processing)."
								]
							}
						]
					}
				},
				{
					"name": "processor",
					"label": "Processor",
					"columnHeader": "PROCESSOR",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Processor is required"
								]
							},
							{
								"name": "max",
								"params": [
									128,
									"Processor cannot be more than 128 characters"
								]
							}
						]
					}
				},
				{
					"name": "productNumber",
					"label": "Product Number",
					"columnHeader": "PRODUCT_NUMBER",
					"isRequired": true,
					"type": "integer",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Product Number is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,4}$/",
									"Product Number must be a number up to 4 digits in length."
								]
							},
							{
								"name": "grouping",
								"isComplex": true,
								"params": [
									"INPUT_NUMBER||PRODUCT_FORM,OUTPUT_QTY,OUTPUT_UNITS",
									"Invalid grouping for Product Number {0}. For a Product Number, the following fields must be the same for all rows in that group: PRODUCT_FORM,OUTPUT_QTY,OUTPUT_UNITS"
								]
							}
						]
					}
				},
				{
					"name": "productForm",
					"label": "Product Form",
					"columnHeader": "PRODUCT_FORM",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Product Form is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText (CONCAT('material-',(REPLACE(STRAFTER(?str_id, 'http://linked.data.gov.au/def/sample-material/'), '-', ''))) as ?filterByChildCollection) WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) } <http://linked.data.gov.au/def/sample-material/min-products> skos:member ?id . ?id ?pred ?displayText BIND (STR(?id) AS ?str_id) }} ORDER BY ?sort LCASE(?displayText)",
									"Product Form is not valid. Please refer to vocab Sample Material (Mineral Mining Product Materials)."
								]
							}
						]
					}
				},
				{
					"name": "outputQty",
					"label": "Output Quantity",
					"columnHeader": "OUTPUT_QTY",
					"isRequired": true,
					"type": "float",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Output Quantity is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,10}(\\.\\d+)?$/",
									"Output Quantity must be a decimal, with no more than 10 digits before the decimal point e.g. 1234567890.1234"
								]
							}
						]
					}
				},
				{
					"name": "outputUnit",
					"label": "Output Unit",
					"columnHeader": "OUTPUT_UNITS",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Output Unit is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/geou/expanded-resource-volumetrics> skos:member ?id . ?id ?pred ?displayText }} ORDER BY  ?sort LCASE(?displayText)",
									"Output Unit is not valid. Please refer to vocab for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				},
				{
					"name": "containedCommodity",
					"label": "Contained Commodity",
					"columnHeader": "CONTAINED_COMMODITY",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Contained Commodity is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText ?sort (group_concat(DISTINCT STRAFTER(?str_collId, 'http://linked.data.gov.au/def/geo-commodities/'); separator = ',') as ?filterText) WHERE {{ VALUES (?sort ?pred) { ('1' skos:prefLabel) ('2' skos:altLabel) ('2' skos:notation) ('2' skos:hiddenLabel) } ?id a skos:Concept ; ?pred ?displayText ; skos:inScheme <http://linked.data.gov.au/def/geo-commodities> . ?collId skos:member ?id BIND (STR(?collId) AS ?str_collId)}} GROUP BY ?id ?displayText ?sort ORDER BY ?sort LCASE(?displayText) ?pred",
									"Contained Commodity is not valid. Please refer to vocab Geoscience Commodities (Ordered Lodgement List)."
								]
							},
							{
								"name": "dependentVocab",
								"isComplex": true,
								"params": [
									"PRODUCT_FORM",
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText (CONCAT('material-',(REPLACE(STRAFTER(?str_id, 'http://linked.data.gov.au/def/sample-material/'), '-', ''))) as ?filterByChildCollection) WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) } <http://linked.data.gov.au/def/sample-material/min-products> skos:member ?id . ?id ?pred ?displayText BIND (STR(?id) AS ?str_id) }} ORDER BY ?sort LCASE(?displayText)",
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText ?sort (group_concat(DISTINCT STRAFTER(?str_collId, 'http://linked.data.gov.au/def/geo-commodities/'); separator = ',') as ?filterText) WHERE {{ VALUES (?sort ?pred) { ('1' skos:prefLabel) ('2' skos:altLabel) ('2' skos:notation) ('2' skos:hiddenLabel) } ?id a skos:Concept ; ?pred ?displayText ; skos:inScheme <http://linked.data.gov.au/def/geo-commodities> . ?collId skos:member ?id BIND (STR(?collId) AS ?str_collId)}} GROUP BY ?id ?displayText ?sort ORDER BY ?sort LCASE(?displayText) ?pred",
									"Contained Commodity is not valid for the selected Product Form"
								]
							}
						]
					}
				},
				{
					"name": "containedCommodityQty",
					"label": "Quantity",
					"columnHeader": "CONTAINED_COMMODITY_QTY",
					"isRequired": true,
					"type": "float",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Contained Commodity Quantity is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,10}(\\.\\d+)?$/",
									"Contained Commodity Quantity must be a decimal, with no more than 10 digits before the decimal point e.g. 1234567890.1234"
								]
							}
						]
					}
				},
				{
					"name": "containedCommodityUnit",
					"label": "Unit",
					"columnHeader": "CONTAINED_COMMODITY_UNIT",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Contained Commodity Unit is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/geou/expanded-resource-volumetrics> skos:member ?id . ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Contained Commodity Unit is not valid. Please refer to vocab for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				},
				{
					"name": "recovery",
					"label": "Recovery (%)",
					"columnHeader": "RECOVERY",
					"isRequired": true,
					"type": "float",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Recovery is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,3}(\\.\\d)?$/",
									"Recovery must be a percentage expressed as a decimal (4,1) e.g. 100.0"
								]
							}
						]
					}
				}
			]
		},
		{
			"name": "RAW_COMMODITY_STOCKPILE",
			"webFormKey": "rawCommodityStockpile",
			"titleforReview": "Raw Commodity Stockpile",
			"xlsxOffsets": {
				"columnOffset": 2,
				"rowOffset": 8
			},
			"minRows": 0,
			"inputs": [
				{
					"name": "stockpileNumber",
					"label": "Stockpile Number",
					"columnHeader": "STOCKPILE_NUMBER",
					"isRequired": true,
					"type": "integer",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Stockpile Number is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,4}$/",
									"Stockpile Number must be a number up to 4 digits in length."
								]
							},
							{
								"name": "grouping",
								"isComplex": true,
								"params": [
									"MATERIAL_STOCKPILED,CLOSING_QTY,STOCKPILE_UNIT",
									"Invalid grouping for Stockpile Number {0}. For a Stockpile Number, the following fields must be the same for all rows in that group: MATERIAL_STOCKPILED,CLOSING_QTY,STOCKPILE_UNIT"
								]
							}
						]
					}
				},
				{
					"name": "materialStockpiled",
					"label": "Material Stockpiled",
					"columnHeader": "MATERIAL_STOCKPILED",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Material Stockpiled is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText (CONCAT('material-',(REPLACE(STRAFTER(?str_id, 'http://linked.data.gov.au/def/sample-material/'), '-', ''))) as ?filterByChildCollection) WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) } <http://linked.data.gov.au/def/sample-material/min-process-inputs> skos:member ?id . ?id ?pred ?displayText BIND (STR(?id) AS ?str_id) }} ORDER BY ?sort LCASE(?displayText)",
									"Material Stockpiled is not valid. Please refer to vocab Sample Material (Mineral Mining Raw Materials)"
								]
							}
						]
					}
				},
				{
					"name": "closingQty",
					"label": "Closing Quantity",
					"columnHeader": "CLOSING_QTY",
					"isRequired": true,
					"type": "float",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Closing Quantity is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,10}(\\.\\d+)?$/",
									"Closing Quantity must be a decimal, with no more than 10 digits before the decimal point e.g. 1234567890.1234"
								]
							}
						]
					}
				},
				{
					"name": "stockpileUnit",
					"label": "Stockpile Unit",
					"columnHeader": "STOCKPILE_UNIT",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Stockpile Unit is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/geou/expanded-resource-volumetrics> skos:member ?id . ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Stockpile Unit is not valid. Please refer to vocab for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				},
				{
					"name": "containedCommodity",
					"label": "Contained Commodity",
					"columnHeader": "CONTAINED_COMMODITY",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Contained Commodity is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText ?sort (group_concat(DISTINCT STRAFTER(?str_collId, 'http://linked.data.gov.au/def/geo-commodities/'); separator = ',') as ?filterText) WHERE {{ VALUES (?sort ?pred) { ('1' skos:prefLabel) ('2' skos:altLabel) ('2' skos:notation) ('2' skos:hiddenLabel) } ?id a skos:Concept ; ?pred ?displayText ; skos:inScheme <http://linked.data.gov.au/def/geo-commodities> . ?collId skos:member ?id BIND (STR(?collId) AS ?str_collId)}} GROUP BY ?id ?displayText ?sort ORDER BY ?sort LCASE(?displayText) ?pred",
									"Contained Commodity is not valid. Please refer to vocab Geoscience Commodities (Ordered Lodgement List)."
								]
							},
							{
								"name": "dependentVocab",
								"isComplex": true,
								"params": [
									"MATERIAL_STOCKPILED",
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText (CONCAT('material-',(REPLACE(STRAFTER(?str_id, 'http://linked.data.gov.au/def/sample-material/'), '-', ''))) as ?filterByChildCollection) WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) } <http://linked.data.gov.au/def/sample-material/min-process-inputs> skos:member ?id . ?id ?pred ?displayText BIND (STR(?id) AS ?str_id) }} ORDER BY ?sort LCASE(?displayText)",
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText ?sort (group_concat(DISTINCT STRAFTER(?str_collId, 'http://linked.data.gov.au/def/geo-commodities/'); separator = ',') as ?filterText) WHERE {{ VALUES (?sort ?pred) { ('1' skos:prefLabel) ('2' skos:altLabel) ('2' skos:notation) ('2' skos:hiddenLabel) } ?id a skos:Concept ; ?pred ?displayText ; skos:inScheme <http://linked.data.gov.au/def/geo-commodities> . ?collId skos:member ?id BIND (STR(?collId) AS ?str_collId)}} GROUP BY ?id ?displayText ?sort ORDER BY ?sort LCASE(?displayText) ?pred",
									"Contained Commodity is not valid for the selected Material Stockpiled"
								]
							}
						]
					}
				},
				{
					"name": "grade",
					"label": "Grade",
					"columnHeader": "GRADE",
					"isRequired": true,
					"type": "float",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Grade is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,10}(\\.\\d+)?$/",
									"Grade must be a decimal, with no more than 10 digits before the decimal point e.g. 1234567890.1234"
								]
							}
						]
					}
				},
				{
					"name": "gradeUnit",
					"label": "Grade Unit",
					"columnHeader": "GRADE_UNIT",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Grade Unit is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/geou/resource-grade-quality> skos:member ?id . ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Grade Unit is not valid. Please refer to vocab for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				},
				{
					"name": "stockpilePurpose",
					"label": "Stockpile Purpose",
					"columnHeader": "STOCKPILE_PURPOSE",
					"isRequired": false,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/resource-stockpile-purpose/min-raw-stockpile> skos:member ?id . ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Stockpile Purpose is not valid. Please refer to vocab for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				}
			]
		},
		{
			"name": "SALES",
			"webFormKey": "sales",
			"titleforReview": "Sales",
			"xlsxOffsets": {
				"columnOffset": 2,
				"rowOffset": 8
			},
			"minRows": 0,
			"inputs": [
				{
					"name": "productNumber",
					"label": "Product Number",
					"columnHeader": "PRODUCT_NUMBER",
					"isRequired": true,
					"type": "integer",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Product Number is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,4}$/",
									"Product Number must be a number up to 4 digits in length."
								]
							},
							{
								"name": "grouping",
								"isComplex": true,
								"params": [
									"COUNTRY,AUSTRALIAN_STATE,PRODUCT_FORM,PRODUCT_QTY,PRODUCT_UNITS,TOTAL_FREIGHT_COST",
									"Invalid grouping for Product Number {0}. For a Product Number, the following fields must be the same for all rows in that group: COUNTRY,AUSTRALIAN_STATE,PRODUCT_FORM,PRODUCT_QTY,PRODUCT_UNITS,TOTAL_FREIGHT_COST"
								]
							}
						]
					}
				},
				{
					"name": "country",
					"label": "Destination Country",
					"columnHeader": "COUNTRY",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Country is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) } ?id a skos:Concept ; ?pred ?displayText ; skos:inScheme <http://linked.data.gov.au/def/countries> FILTER( LANG( ?displayText ) = 'en')}} ORDER BY ?sort LCASE(?displayText)",
									"Country is not valid. Please refer to vocab Countries"
								]
							}
						]
					}
				},
				{
					"name": "australianState",
					"label": "State",
					"columnHeader": "AUSTRALIAN_STATE",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "dependent",
								"isComplex": true,
								"params": [
									"COUNTRY||Australia",
									"State is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:notation) (2 skos:altLabel) (2 skos:prefLabel) } ?id a skos:Concept ; ?pred ?displayText ; skos:inScheme <http://linked.data.gov.au/def/australian-states-and-territories> }} ORDER BY ?sort LCASE(?displayText)",
									"State is not valid. Please refer to vocab Australian States and Territories."
								]
							}
						]
					}
				},
				{
					"name": "productForm",
					"label": "Product Form",
					"columnHeader": "PRODUCT_FORM",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Product Form is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText (CONCAT('material-',(REPLACE(STRAFTER(?str_id, 'http://linked.data.gov.au/def/sample-material/'), '-', ''))) as ?filterByChildCollection) WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) } <http://linked.data.gov.au/def/sample-material/min-products> skos:member ?id . ?id ?pred ?displayText BIND (STR(?id) AS ?str_id) }} ORDER BY ?sort LCASE(?displayText)",
									"Product Form is not valid. Please refer to vocab Sample Material (Mineral Mining Product Materials)."
								]
							}
						]
					}
				},
				{
					"name": "productQty",
					"label": "Quantity",
					"columnHeader": "PRODUCT_QTY",
					"isRequired": true,
					"type": "float",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Product Quantity is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,10}(\\.\\d+)?$/",
									"Product Quantity must be a decimal, with no more than 10 digits before the decimal point e.g. 1234567890.1234"
								]
							}
						]
					}
				},
				{
					"name": "productUnits",
					"label": "Unit",
					"columnHeader": "PRODUCT_UNITS",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Product Unit is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/geou/expanded-resource-volumetrics> skos:member ?id . ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Product Unit is not valid. Please refer to vocab for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				},
				{
					"name": "totalFreightCost",
					"label": "Freight Cost",
					"columnHeader": "TOTAL_FREIGHT_COST",
					"isRequired": false,
					"type": "integer",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^(0|[1-9]\\d{0,9})$/",
									"Total Freight Cost must be a positive whole number with no more than 10 digits e.g. 1234567890"
								]
							}
						]
					}
				},
				{
					"name": "containedCommodity",
					"label": "Contained Commodity",
					"columnHeader": "CONTAINED_COMMODITY",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Contained Commodity is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText ?sort (group_concat(DISTINCT STRAFTER(?str_collId, 'http://linked.data.gov.au/def/geo-commodities/'); separator = ',') as ?filterText) WHERE {{ VALUES (?sort ?pred) { ('1' skos:prefLabel) ('2' skos:altLabel) ('2' skos:notation) ('2' skos:hiddenLabel) } ?id a skos:Concept ; ?pred ?displayText ; skos:inScheme <http://linked.data.gov.au/def/geo-commodities> . ?collId skos:member ?id BIND (STR(?collId) AS ?str_collId)}} GROUP BY ?id ?displayText ?sort ORDER BY ?sort LCASE(?displayText) ?pred",
									"Contained Commodity is not valid. Please refer to vocab Geoscience Commodities (Ordered Lodgement List)."
								]
							},
							{
								"name": "dependentVocab",
								"isComplex": true,
								"params": [
									"PRODUCT_FORM",
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText (CONCAT('material-',(REPLACE(STRAFTER(?str_id, 'http://linked.data.gov.au/def/sample-material/'), '-', ''))) as ?filterByChildCollection) WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) } <http://linked.data.gov.au/def/sample-material/min-products> skos:member ?id . ?id ?pred ?displayText BIND (STR(?id) AS ?str_id) }} ORDER BY ?sort LCASE(?displayText)",
									"PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?id ?displayText ?sort (group_concat(DISTINCT STRAFTER(?str_collId, 'http://linked.data.gov.au/def/geo-commodities/'); separator = ',') as ?filterText) WHERE {{ VALUES (?sort ?pred) { ('1' skos:prefLabel) ('2' skos:altLabel) ('2' skos:notation) ('2' skos:hiddenLabel) } ?id a skos:Concept ; ?pred ?displayText ; skos:inScheme <http://linked.data.gov.au/def/geo-commodities> . ?collId skos:member ?id BIND (STR(?collId) AS ?str_collId)}} GROUP BY ?id ?displayText ?sort ORDER BY ?sort LCASE(?displayText) ?pred",
									"Contained Commodity is not valid for the selected Product Form"
								]
							}
						]
					}
				},
				{
					"name": "commodityQty",
					"label": "Quantity",
					"columnHeader": "COMMODITY_QTY",
					"isRequired": true,
					"type": "float",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Commodity Quantity is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^\\d{1,10}(\\.\\d+)?$/",
									"Commodity Quantity must be a decimal, with no more than 10 digits before the decimal point e.g. 1234567890.1234"
								]
							}
						]
					}
				},
				{
					"name": "commodityUnit",
					"label": "Unit",
					"columnHeader": "COMMODITY_UNIT",
					"isRequired": true,
					"type": "text",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Commodity Unit is required"
								]
							},
							{
								"name": "vocab",
								"isComplex": true,
								"params": [
									"PREFIX skos:<http://www.w3.org/2004/02/skos/core#> PREFIX rdfs:<http://www.w3.org/2000/01/rdf-schema#> SELECT DISTINCT ?id ?displayText WHERE {{ VALUES (?sort ?pred) { (1 skos:prefLabel) (2 skos:altLabel) (2 skos:hiddenLabel)(2 rdfs:label)(2 skos:notation)} <http://linked.data.gov.au/def/geou/expanded-resource-volumetrics> skos:member ?id . ?id ?pred ?displayText }} ORDER BY ?sort LCASE(?displayText)",
									"Commodity Unit is not valid. Please refer to vocab for Geoscience Profile of QUDT Units."
								]
							}
						]
					}
				},
				{
					"name": "value",
					"label": "Value",
					"columnHeader": "VALUE",
					"isRequired": true,
					"type": "integer",
					"validations": {
						"type": "string",
						"rules": [
							{
								"name": "required",
								"params": [
									"Value is required"
								]
							},
							{
								"name": "matches",
								"isComplex": true,
								"params": [
									"/^(0|[1-9]\\d{0,9})$/",
									"Value must be a positive whole number with no more than 10 digits e.g. 1234567890"
								]
							}
						]
					}
				}
			]
		}
	]
}